## 8.7 징검다리 건너기 (프로그래머스)

###### 문제 설명

**[본 문제는 정확성과 효율성 테스트 각각 점수가 있는 문제입니다.]**

카카오 초등학교의 니니즈 친구들이 라이언 선생님과 함께 가을 소풍을 가는 중에 **징검다리**가 있는 개울을 만나서 건너편으로 건너려고 합니다. 라이언 선생님은 니니즈 친구들이 무사히 징검다리를 건널 수 있도록 다음과 같이 규칙을 만들었습니다.

- 징검다리는 일렬로 놓여 있고 각 징검다리의 디딤돌에는 모두 숫자가 적혀 있으며 디딤돌의 숫자는 한 번 밟을 때마다 1씩 줄어듭니다.
- 디딤돌의 숫자가 0이 되면 더 이상 밟을 수 없으며 이때는 그 다음 디딤돌로 한번에 여러 칸을 건너 뛸 수 있습니다.
- 단, 다음으로 밟을 수 있는 디딤돌이 여러 개인 경우 무조건 가장 가까운 디딤돌로만 건너뛸 수 있습니다.

니니즈 친구들은 개울의 왼쪽에 있으며, 개울의 오른쪽 건너편에 도착해야 징검다리를 건넌 것으로 인정합니다.
니니즈 친구들은 한 번에 한 명씩 징검다리를 건너야 하며, 한 친구가 징검다리를 모두 건넌 후에 그 다음 친구가 건너기 시작합니다.

디딤돌에 적힌 숫자가 순서대로 담긴 배열 stones와 한 번에 건너뛸 수 있는 디딤돌의 최대 칸수 k가 매개변수로 주어질 때, 최대 몇 명까지 징검다리를 건널 수 있는지 return 하도록 solution 함수를 완성해주세요.

#### **[제한사항]**

- 징검다리를 건너야 하는 니니즈 친구들의 수는 무제한 이라고 간주합니다.
- stones 배열의 크기는 1 이상 200,000 이하입니다.
- stones 배열 각 원소들의 값은 1 이상 200,000,000 이하인 자연수입니다.
- k는 1 이상 stones의 길이 이하인 자연수입니다.

------

##### **[입출력 예]**

| stones                         | k    | result |
| ------------------------------ | ---- | ------ |
| [2, 4, 5, 3, 2, 1, 4, 2, 5, 1] | 3    | 3      |

#### 풀이

처음엔 단순하게 순차적으로 한명씩 탐색하는 방법으로 했다. 하지만 도무지 효율성 테스트를 통과할 수 없어서

검색해본 결과, 최소값과 최대값을 정한 뒤, 이진 탐색을 통해 가장 가능한 최대값을 구하는 방법을 사용했다.

배열의 크기가 20만인 징검다리에서 가장 시간이 오래 걸리는 작업이 배열을 한번 탐색하는 것이고, 문제의 정답 상한이 없거나 엄청 클 때(2억)엔, 무작정 완전 탐색을 하는 것 보다 이진 탐색을 통해 징검다리를 건너는 횟수를 최대한 줄이는 방법이 필요하다는 것을 느꼈다.
이진 탐색으로 징검다리를 건널 때엔 한번에 추정한 정답값 만큼으로 계산하였다.

#### 코드

````java
class Solution {
	int[] stones;
	
    public int solution(int[] stones, int k) {
    	this.stones = stones;
        int answer = jump(k);
        return answer;
    }
    
    public int jump(int k) {
    	boolean able = true;
    	int ans = 0;
    	int stp;
    	
    	while(able) {  	
    		stp = k;
    		
    		for(int i=0; i<stones.length; i++) {
    			stones[i]--;  
    			if(stones[i] < 0) {
    				stp--;
    				if(stp == 0) {
    					able = false;
    					ans--;
    					break;
    				}
    				
    			}
    			
    			else {
    				stp = k;
    			}
        	}
    		ans++;
    	}
    	
    	return ans;  	
    }
}
````

#### 코드 2

````java
class Solution {
	int[] stones;
	
    public int solution(int[] stones, int k) {
    	this.stones = stones;
    	boolean able = true;
    	int min = 1;
    	int max = Integer.MIN_VALUE;
    	int mid = 0;
    	
    	
    	for(int i=0; i<stones.length; i++) {
    		min = Math.min(stones[i], min);
    		max = Math.max(stones[i], max);
    	}
    	
    	while(able ||  min <= max) {
    		
    		mid = (min+max)/2;
    		if(jump(mid,k)) {
    			min = mid+1;
    			able = false;	//이진 탐색의 조건을 만족시킬 때, 그 값이 실제로도 가능해야함.
    		}
    		else {
    			max = mid-1;
    			able = true;
    		}
    	}
    	return mid; 
    }
    
    public boolean jump(int mid, int k) {
    	int life = k;
    	boolean able = true;
    	for(int i=0; i<stones.length; i++) {
    		if(stones[i]-mid < 0) {	//mid만큼씩 한번에 이동
    			life--;	//k만큼 떨어져 있는 것도 가능하게
    			if(life == 0) {
    				able = false;
    				break;
    			}
    		}
    		else {
    			life = k;
    		}
    	}
    	return able;
    }
    
}
````

#### 결과

````java
테스트 1 〉	통과 (0.89ms, 42.9MB)
테스트 2 〉	통과 (0.88ms, 42.5MB)
테스트 3 〉	통과 (0.97ms, 42.6MB)
테스트 4 〉	통과 (0.79ms, 42.9MB)
테스트 5 〉	통과 (1.03ms, 42.6MB)
테스트 6 〉	통과 (0.99ms, 42.9MB)
테스트 7 〉	통과 (1.24ms, 42.8MB)
테스트 8 〉	통과 (1.36ms, 43MB)
테스트 9 〉 통과 (1.31ms, 43.2MB)
테스트 10 〉통과 (1.02ms, 42.8MB)
테스트 11 〉통과 (0.92ms, 43.6MB)
테스트 12 〉통과 (0.81ms, 43.1MB)
테스트 13 〉통과 (1.04ms, 42.7MB)
테스트 14 〉통과 (1.01ms, 42.2MB)
테스트 15 〉통과 (1.07ms, 42.5MB)
테스트 16 〉통과 (1.17ms, 42.7MB)
테스트 17 〉통과 (1.21ms, 42.8MB)
테스트 18 〉통과 (0.85ms, 42.6MB)
테스트 19 〉통과 (1.01ms, 42.6MB)
테스트 20 〉통과 (0.99ms, 42.8MB)
테스트 21 〉통과 (1.15ms, 42.8MB)
테스트 22 〉통과 (1.35ms, 42.8MB)
테스트 23 〉통과 (1.19ms, 42.8MB)
테스트 24 〉통과 (1.32ms, 42.9MB)
테스트 25 〉통과 (0.81ms, 42.7MB)
    
효율성  테스트
테스트 1 〉	통과 (31.70ms, 53.7MB)
테스트 2 〉	통과 (33.23ms, 53.8MB)
테스트 3 〉	통과 (31.27ms, 55.1MB)
테스트 4 〉	통과 (31.04ms, 54.1MB)
테스트 5 〉	통과 (33.57ms, 54.1MB)
테스트 6 〉	통과 (33.34ms, 53.7MB)
테스트 7 〉	통과 (29.37ms, 53.9MB)
테스트 8 〉	통과 (44.35ms, 53.9MB)
테스트 9 〉	통과 (35.50ms, 53.9MB)
테스트 10 〉통과 (37.73ms, 57MB)
테스트 11 〉통과 (34.95ms, 53.8MB)
테스트 12 〉통과 (43.91ms, 53.7MB)
테스트 13 〉통과 (29.36ms, 53.7MB)
테스트 14 〉통과 (25.48ms, 53.7MB)
````